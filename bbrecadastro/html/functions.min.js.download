window.console||(console={log:function(){}}),$.fn.pikiCheckbox=function(method){var pluginArgs=arguments;return this.each(function(){var field=this,$this=$(this);if("checkbox"===$this.attr("type")){this.configure=function(){if(this.ready!==!0){this.init_value=$this.prop("checked"),this.wrapper=$('<div class="j-custom-checkbox"></div>').insertBefore($this);var e=$this.attr("piki-check-background");void 0!=e&&this.wrapper.css("background-image","url("+e+")"),$this.appendTo(this.wrapper),this.actualize(),$this.on("focus",function(){field.wrapper.addClass("focus"),$this.parents("label").first().addClass("focus")}),$this.on("focusout",function(){field.wrapper.removeClass("focus"),$this.parents("label").first().removeClass("focus")}),$this.change(function(){$this.prop("checked")===!0?(field.wrapper.addClass("checked"),$this.parents("label").first().addClass("checked")):(field.wrapper.removeClass("checked"),$this.parents("label").first().removeClass("checked"))});var a=$this.parents("form").first();a.length&&a.bind("reset",function(){field.reset()}),this.ready=!0}},this.actualize=function(){$this.prop("checked")===!0||"checked"===$this.prop("checked")?this.wrapper.addClass("checked").parent().addClass("checked"):this.wrapper.removeClass("checked").parent().removeClass("checked")},this.reset=function(){this.init_value===!0?$this.prop("checked",!0):$this.prop("checked",!1),this.actualize()};var toCall;void 0==(toCall=eval("this."+method))&&void 0==this.ready?this.configure.apply(this,pluginArgs):toCall.apply(this,Array.prototype.slice.call(pluginArgs,1))}})};var myPos="",Utils=function(){var e=function(){$(".background-loader").show()},a=function(){$(".background-loader").hide()},t=function(e){defaultConfig={type:"GET",url:"",data:"",json:!0,traditional:!0,contentType:"application/json",cache:!1},defaultCallbacks={success:"",error:"",fallback:""},defaultAttributes={response:""},options=$.extend(defaultConfig,e.request),callbacks=$.extend(defaultCallbacks,e.callbacks);var a=$.ajax(options);a.always(function(e,a){0!=e.status&&403!=e.status&&"success"!==a&&200!=e.status||(callbacks.attribute?(defaultAttributes.response=e,newAttributes=$.extend(defaultAttributes,callbacks.attribute),callbacks.success.call(this,newAttributes)):""!==callbacks.success&&callbacks.success.call(this,e))}),a.fail(function(e,a){""!==callbacks.error?(defaultAttributes.response=e,newAttributes=$.extend(defaultAttributes,callbacks.attribute),callbacks.error.call(this,newAttributes)):callbacks.error.call(this,e)})},i=function(){return{AC:{uf:"AC",nome:"Acre",cap_nome:"Rio Branco",cap_latlng:"-67.8105087280273,-9.975464820861818,0"},AL:{uf:"AL",nome:"Alagoas",cap_nome:"Maceió",cap_latlng:"-35.73530960428283,-9.666502951528017,0"},AM:{uf:"AM",nome:"Amazonas",cap_nome:"Manaus",cap_latlng:"-60.0254669189453,-3.102448463439942,0"},AP:{uf:"AP",nome:"Amapá",cap_nome:"Macapá",cap_latlng:"-51.06641772615081,0.0385661366162742,0"},BA:{uf:"BA",nome:"Bahia",cap_nome:"Salvador",cap_latlng:"-38.51133728027344,-12.97151947021485,0"},CE:{uf:"CE",nome:"Ceará",cap_nome:"Fortaleza",cap_latlng:"-38.54332730263089,-3.717461176332951,0"},DF:{uf:"DF",nome:"Distrito Federal",cap_nome:"Brasília",cap_latlng:"-47.93040848042664,-15.78051948608753,0"},ES:{uf:"ES",nome:"Espírito Santo",cap_nome:"Vitória",cap_latlng:"-40.33836364795558,-20.31955337344735,0"},GO:{uf:"GO",nome:"Goiás",cap_nome:"Goiânia",cap_latlng:"-49.25442511176424,-16.67951967085599,0"},MA:{uf:"MA",nome:"Maranhão",cap_nome:"São Luís",cap_latlng:"-44.30337141685571,-2.530451062952885,0"},MG:{uf:"MG",nome:"Minas Gerais",cap_nome:"Belo Horizonte",cap_latlng:"-43.95639037695687,-19.81754303077579,0"},MS:{uf:"MS",nome:"Mato Grosso do Sul",cap_nome:"Campo Grande",cap_latlng:"-54.64646911621095,-20.44351959228516,0"},MT:{uf:"MT",nome:"Mato Grosso",cap_nome:"Cuiabá",cap_latlng:"-56.09746167602181,-15.59650225807628,0"},PA:{uf:"PA",nome:"Pará",cap_nome:"Belém",cap_latlng:"-48.50439833040193,-1.456443271327079,0"},PB:{uf:"PB",nome:"Paraíba",cap_nome:"João Pessoa",cap_latlng:"-34.86330038541144,-7.115486600115958,0"},PE:{uf:"PE",nome:"Pernambuco",cap_nome:"Recife",cap_latlng:"-34.88130188080839,-8.054492949686317,0"},PI:{uf:"PI",nome:"Piauí",cap_nome:"Teresina",cap_latlng:"-42.80236053313725,-5.089468478340516,0"},PR:{uf:"PR",nome:"Paraná",cap_nome:"Curitiba",cap_latlng:"-49.27344510792839,-25.428548799388,0"},RJ:{uf:"RJ",nome:"Rio de Janeiro",cap_nome:"Rio de Janeiro",cap_latlng:"-43.2083928627163,-22.9035564806147,0"},RN:{uf:"RN",nome:"Rio Grande do Norte",cap_nome:"Natal",cap_latlng:"-35.2093048098258,-5.795477377467147,0"},RO:{uf:"RO",nome:"Rondônia",cap_nome:"Porto Velho",cap_latlng:"-63.90448762789465,-8.762467476689642,0"},RR:{uf:"RR",nome:"Roraima",cap_nome:"Boa Vista",cap_latlng:"-60.67346572875974,2.819580078125003,0"},RS:{uf:"RS",nome:"Rio Grande do Sul",cap_nome:"Porto Alegre",cap_latlng:"-51.23048019409185,-30.03355026245118,0"},SC:{uf:"SC",nome:"Santa Catarina",cap_nome:"Florianópolis",cap_latlng:"-48.54944615045752,-27.59755514557643,0"},SE:{uf:"SE",nome:"Sergipe",cap_nome:"Aracaju",cap_latlng:"-37.07231903245476,-10.91150952267382,0"},SP:{uf:"SP",nome:"São Paulo",cap_nome:"São Paulo",cap_latlng:"-46.63642120299626,-23.54854965191239,0"},TO:{uf:"TO",nome:"Tocantins",cap_nome:"Palmas",cap_latlng:"-48.33340370187268,-10.16749238530456,0"}}},n=function(e){var a=i();return void 0!==a[e]&&a[e]};return{loaderShow:function(){e()},loaderHide:function(){a()},ajaxRequest:function(e){t(e)},getStates:function(){return i()},getState:function(e){return n(e)}}}(),languageWebsite="",latitude="",longitude="",place="",autocomplete="",inputSearchActive=!1,searchTypes=["local","agency","cambiosaque"],languages=new Array,Page=function(){var e=null,a="",t=function(){var e=$("form#cambiosaque-filters"),a=$("select",e);a.length&&a.select2({autocomplete:!1,minimumResultsForSearch:1/0});var t=$('input[type="checkbox"]',e);t.length&&t.pikiCheckbox()},i=function(){Utils.loaderHide(),$(".error-field-desactivate").fadeIn(function(){var e=$(this);window.setTimeout(function(){e.fadeOut()},2e3)}),Page.setStatusNavigator(!1)},n=function(){function a(a){Utils.loaderShow(),e={},e.position=a;var t=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);myPos=t,Maps.setPositionUser(myPos),geocoder=new google.maps.Geocoder,geocoder.geocode({latLng:t},function(a,t){if(t==google.maps.GeocoderStatus.OK){e.endereco=a[1].formatted_address;var n=$("#searchLocalAttendance");n.length?n.val(e.endereco):$("#searchLocal").val(e.endereco),$(".link-remove-location").removeClass("add-loc"),$(".info-my-location").hide(),$(".info-link-add").hide(),$(".info-is-encountered").show(),$(".info-link-remove").show(),$(".link-remove-location").addClass("remove-loc"),Page.setStatusNavigator(!0),Utils.loaderHide()}else i()})}var t=location.pathname.substring(location.pathname.lastIndexOf("/")+1);"services.html"!==t&&(void 0!==Maps&&""!==Maps.getPositionUser()||(navigator.geolocation&&navigator.geolocation.getCurrentPosition?navigator.geolocation.getCurrentPosition(a,function(){i()}):i()))},o=function(){$(".link-remove-location").off().on({click:function(){$(this).hasClass("remove-loc")?($(this).addClass("add-loc"),$("#searchLocal").val(""),$(".info-is-encountered").hide(),$(".info-my-location").show(),$(".remove-loc").removeClass("remove-loc"),$(".info-link-remove").hide(),$(".info-link-add").show(),$("#searchLocal").focus(),$("#searchLocal").blur()):n()}})},s=function(){if(Cookies.get("place-attendance")){var e=JSON.parse(Cookies.get("place-attendance"));H="searchLocal",place=e,R(),Cookies.remove("place-attendance")}},c=function(){Cookies.get("languageWebsite")},r=function(){var e="pt-BR",a=Cookies.get("languageWebsite");"EN"===a&&(e="en-US"),i18n.init({lng:e,fallbackLng:e,fixLng:!0,load:e},function(e){$("[data-i18n]").i18n()});var t=function(e){languageWebsite="en-US"==e?"EN":"PT",Cookies.set("languageWebsite",languageWebsite),i18n.setLng(e,{fixLng:!0},function(e){$("[data-i18n]").i18n()})};$(".menu-lang").each(function(){if(void 0===this.configured){this.configured=!0;var e=this;this.$=$(this),this.close=function(){this.$.removeClass("opened")},this.$anchor=$("label",this.$),this.$anchor.on("click",function(a){e.$.is(".opened")?e.close():e.$.addClass("opened")}),this.doSelect=function(e){track.sendData("Header_Idioma",e),this.close();var a="";switch(e){case"EN":a="en-US",location.hash="en";break;default:a="pt-BR",location.hash="pt"}if(t(a),V(),this.$.hasClass("select-language-map")){var i=Page.getSearchType(),n=Maps.getPrefixBranche();$(".detail-agency").is(":visible")&&Page.closeDetailsAgencies(),$(".block-filters").is(":visible")&&Page.closeFiltersAgencies(),"agency"===i?(Utils.loaderShow(),dataAttributes={idioma:languageWebsite,prefixo:n},Page.searchOnMap(dataAttributes,"agency","map")):"cambiosaque"===i?(Utils.loaderShow(),Maps.pesquisaCS()):(window.pesquisaIniciada=!0,config={originTarget:"languageSelector"},Maps.searchAgenciesOnMap(config))}},this.$tgts=$(".option-select-language",this.$),this.$tgts.on("click",function(a){a.preventDefault(),e.doSelect($(this).attr("rel"))}),$(window).on("click",function(a){a=a||window.event,a=a.target||a.srcElement,$(a).parents(".menu-lang").length||e.close()})}});var i=function(){var a=location.hash;"#en"===a?e="en-US":"#pt"===a&&(e="pt-BR"),t(e)};$(window).on({hashchange:function(){i()}}),i()},l=function(){$(".status").remove(),$("#searchLocal").maxlength({maxCharacters:50});var e={country:"br"};autocomplete=new google.maps.places.Autocomplete(document.getElementById("searchLocal"),{componentRestrictions:e})},p="",d="",u=!1,f=function(e){u=e},g=function(){return u},m=function(){""===p&&(p=new google.maps.DirectionsService,d=new google.maps.DirectionsRenderer),d.setOptions({suppressMarkers:!0,polylineOptions:{clickable:!1,strokeColor:"#3159ae",strokeWeight:5}}),$(".link-all-services").off().on({click:function(){track.sendData("Detalhe_Agencia","Conheça os nossos tipos de serviço")}}),$(".route-link-agency").off().on({click:function(){var e=new google.maps.LatLng($(".value-lat").val(),$(".value-long").val()),a=myPos,t=e,i=$(window).width();track.sendData("Detalhe_Agencia","Ver Rota"),768>i&&$("window, body").animate({scrollTop:0},{duration:1e3,complete:function(){}});var n={origin:a,destination:t,travelMode:google.maps.TravelMode.DRIVING};p.route(n,function(e,a){d.setMap(map),f(!0),a===google.maps.DirectionsStatus.OK&&d.setDirections(e)})}})},h=function(){infoWindow.close(),d.setMap(null),f(!1),$(".detail-agency").fadeOut(function(){$(".main-block-agency").fadeIn()})},v=function(){$(".back-to-results").off().on({click:function(){h()}}),m()},b=function(){$(".filter-active").removeClass("filter-active"),$(".combobox-filter").fadeIn(),$(".block-filters").fadeOut(function(){$(".block-agencies-list").fadeIn()})},y=function(){alert("Esconde o filtro!!!")},k=function(){alert("Mostra o filtro!!!")},w=function(e){var a=e.closest("div"),t="";e.hasClass("filter-open-agency")?track.sendData("Detalhe_Filtro-Horário","Mostrar apenas abertas agora"):a.hasClass("block-kind-agencies")?(t=e.find(".name-item-filter").html(),track.sendData("Detalhe_Filtro-Tipos",t)):a.hasClass("block-kind-services")&&(t=e.find(".name-item-filter").html(),track.sendData("Detalhe_Filtro-Serviços",t))},M=function(){$(".icon-close-filter, .filter-active .link-filter-tablet").off().on({click:function(){Page.closeFiltersAgencies()}}),$(".link-filter .checkbox").off().on({click:function(){var e=$(window).width();768>=e&&($(".detail-agency").is(":visible")||$(".block-filters").is(":visible"))&&(Page.closeDetailsMobile(),$(".link-back-home-mobile").removeClass("back-to-results-mobile")),Maps.deleteMarkers();var a=$(this),t=parseInt($(".total-selected-filters").html());a.hasClass("checkbox-active")?(a.removeClass("checkbox-active"),t--):(a.addClass("checkbox-active"),w(a),t++),$(".total-selected-filters").html(t),window.pesquisaIniciada=!0,config={originTarget:"filterService"},Maps.setOriginTarget("filterService"),Maps.searchAgenciesOnMap(config)}})},P=function(e){var a=function(a){var t=a.data("type");for(var i in e)e[i].name===t&&a.find(".total-item-filter").html(" ("+e[i].totalBranches+")")};$(".block-kind-agencies").find(".link-filter").each(function(){a($(this))})},C=function(e){var a=$(".block-kind-agencies"),t=$(".block-kind-services"),i=e.response.tiposAtendimento,n=e.response.servicos,o=[],s=[],c=(e.services,e.branches);parseInt(c.length),a.html(""),t.html("");for(var r in n)o=['<a href="javascript:;" class="link-filter clearfix full-width"><span class="left sprite checkbox" data-id="'+n[r].codigo+'"></span><span class="left description-filter"><span class="name-item-filter">'+n[r].descricao+"</span></span></a>"],t.append(o.join(""));for(var l in i)s=['<a href="javascript:;" class="link-filter clearfix full-width" data-type="'+i[l].type+'"><span class="left sprite checkbox" data-id="'+i[l].codigo+'"></span><span class="left description-filter"><span class="name-item-filter">'+i[l].descricao+'</span><span class="total-item-filter"></span></span></a>'],a.append(s.join(""));Page.setActiveAgencies(c),B()},x=function(){$(".link-back-home-mobile").off().on({click:function(){window.pesquisaIniciada=!1,Maps.backHome()}})},S=function(){$("window, body").animate({scrollTop:0},{duration:100,complete:function(){$(".detail-agency").hide(),$(".block-agencies-list").css({display:"block",top:"0px",left:"-100%"}),$(".back-to-results").removeClass("back-to-results"),$("#map-canvas-mobile").animate({top:"146px"},{duration:500}),$(".block-agencies-list").animate({left:"0"},{duration:500,onComplete:function(){x()}})}})},T=function(){$(".back-to-results-mobile").off().on({click:function(){$(this).removeClass("back-to-results-mobile"),S(),$(".link-back-home-mobile").off().on({click:function(){window.pesquisaIniciada=!1,Maps.backHome()}})}})},A=function(){$("window, body").animate({scrollTop:0},{duration:100,complete:function(){$(".link-back-home-mobile").addClass("back-to-results-mobile"),$(".block-agencies-list").animate({op:"306px"},{duration:500}),$(".detail-agency").css({left:"100%",display:"block",top:"0"}),$(".block-agencies-list").hide(),$(".detail-agency").animate({left:"0%"},{duration:500,complete:function(){T(),m()}})}})},L=function(){$(".combobox-filter").fadeIn(),$(".block-filters").animate({top:"-100%"},{duration:1500,specialEasing:{top:"easeInOutCubic"},complete:function(){$("main.main-map").css({"z-index":"6"}),$(".list-agencies").css({height:"auto",visibility:"visible"}),$(".block-filters").css({height:"0px"}),$("#footer-home").css({"z-index":4}),$(".filter-active-mobile").removeClass("filter-active")}})},_=function(){var e=$(".block-filters"),a="";$(".filter-active-mobile").addClass("filter-active");var t=function(){$(".icon-close-filter, .filter-active-mobile .icon-back-tablet").off().on({click:function(){L()}})};e.css({visibility:"hidden",height:"auto"}),e.fadeIn(function(){$(this),a=e.height(),$("main.main-map").css({"z-index":"50"}),e.css({position:"fixed",visibility:"visible",overflow:"auto",height:0,top:0}),e.css({top:"-100%",height:"100%"}),e.animate({top:"0%"},{duration:1500,specialEasing:{top:"easeInOutCubic"},complete:function(){t(),$(".list-agencies").css({height:0,visibility:"hidden"}),$("#footer-home").css({"z-index":0})}})})},I=function(){var e=function(e){var a=e[0].clientWidth,t=(e.find(".list-services"),0),i=0;if(e.find("span").each(function(){t=parseInt(t)+$(this).width(),parseInt(t)+20>a&&($(this).remove(),i++)}),e.find(".link-more-services").length>0){var n=e.find(".link-more-services").html(),o=n.split("+"),s=parseInt(i)+parseInt(o[1]);e.find(".block-link-more-services").html('<span class="link-more-services left">+'+s+"</span>")}else i>0&&e.find(".block-link-more-services").html('<span class="link-more-services left">+'+i+"</span>")};$(".link-detail-agency").find(".block-list-services").each(function(){e($(this))})},B=function(){I(),$(".close-promo").off().on({click:function(){$(this).closest(".promo-alert").fadeOut()}}),$(".link-detail-agency").off().on({click:function(){function e(){for(var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];e.length;)if(navigator.platform===e.pop())return!0;return!1}var a=$(this).closest(".item-list-agency"),t=$(a).attr("data-abbr"),i=$(a).find(".agency-name").html(),n=$(a).find(".section-agency").html(),o=$(a).find(".value-distance").html(),s=$(a).find(".list-worklog li").html(),c=$(a).find(".begin-time-agency").html(),r=$(a).find(".list-services-modal").html(),l=$(a).find(".agency-address-modal").html(),p=$(a).find(".cnpj-agency-modal").html(),d=$(a).find(".email-modal-agency").html(),u=$(a).find(".contact-modal-agency").html(),f=$(a).find(".matrix-modal-agency").html(),g=$(a).find(".lat-agency").val().replace(",","."),m=$(a).find(".long-agency").val().replace(",","."),h=new google.maps.LatLng(g,m),b=$(a).find(".prefix-agency").val(),y=$(a).find(".distance-agencie").is(":visible"),k="";track.sendData("Mapas-Agência",i),""!==b.trim()&&"null"!==b&&(k=b+'</span><span class="divisor-infobox">&#8211</span>');var w=['<div class="info-agencie"><span class="infobox-prefix">'+k+n+' <span class="sprite bottom-infobox"></span></div>'];infoWindow.setContent(w.join("")),infoWindow.setPosition(h),infoWindow.prefix=b,infoWindow.open(map);var M=$(".container-detail-agency");$("h2",M).html(i),$("h3",M).html(n),y?($(".position-agency",M).show(),$(".value-position-agency strong",M).html(o)):$(".position-agency",M).hide(),""!==c?($(".time-work-agency",M).show(),$(".worklog-detail-agency",M).html(s)):$(".time-work-agency",M).hide(),$(".list-agency-services",M).html(r),$(".address-modal",M).html(l),$(".cnpj-modal",M).html(p),""!==d?($(".email-agency",M).show(),$(".email-agency strong",M).html(d)):$(".email-agency",M).hide(),$(".phone-agency strong",M).html(u),$(".detail-matrix",M).html(f),$(".value-lat",M).val(g),$(".value-long",M).val(m),"BNP"===t?($(".container-detail-agency .phone-agency").hide(),$(".title-general-agency").hide(),$(".title-postal-branche").show()):($(".container-detail-agency .phone-agency").show(),$(".title-general-agency").show(),$(".title-postal-branche").hide());var P="";P="javascript:;",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(P=e()?"http://maps.apple.com://?saddr="+myPos.H+","+myPos.L+"&daddr="+g+","+m+"&t=r&dirflg=d":"http://maps.google.com://maps?saddr="+myPos.H+","+myPos.L+"&daddr="+g+","+m+"&t=r&dirflg=d"),$(".container-detail-agency").find(".route-link-agency").attr("href",P),Page.getStatusNavigator()?$(".links-routes-agency").show():$(".links-routes-agency").hide(),$(window).width()>760?($(".block-detail-agency").jScrollPane({autoReinitialise:!0}),$(".main-block-agency").fadeOut(function(){$(".detail-agency").fadeIn(),v()})):A()}}),$(".combobox-filter").off().on({click:function(){var e=$(window).width();if($(this).fadeOut(),track.sendData("Mapa-Filtro","Filtro"),e>768){$(".header-filters").addClass("filter-active"),$(".block-agencies-list").fadeOut(function(){$(".block-filters").fadeIn()});var e=$(window).width();window.setTimeout(function(){$(".content-filters").jScrollPane({autoReinitialise:!0})},0),M()}else _(),M()}}),$(".link-go-portal").off().on({click:function(){track.sendData("Header_Va-para-o-portal-BB","Va para o portal BB")}})},O="",q="",j=function(e){a=e},E=function(){return a},W=function(){return q},D=function(t){var i=t.response,n=(t.searchActive,$(".list-agencies")),o=i.pontosAtendimento,s="",c="",l="",p="",d="",u="",f=0,g="",m="",h="",v=[],b=[],y=[],k=[],w="";if(t.origin,null===o)return $(".error-results-filter").show(),Utils.loaderHide(),!1;0===o.length&&Utils.loaderHide(),a=t.searchType;var M=i.alertas;$(".item-list-agency").hide(),inputSearchActive=!1;var P=Maps.getOriginTarget();if(place=autocomplete.getPlace(),$(".combobox-filter").show(),"cambiosaque"===a?($(".block-search-map").hide(),$("#active-map-desktop").hide(),$(".block-search-cambiosaque").show()):($(".block-search-cambiosaque").hide(),$(".block-search-map").show(),$("#active-map-desktop").show()),"local"===a?($(".block-search-branche").hide(),$(".block-search-local").show(),$(".header-filters").show(),$(".status").remove(),$("#searchMapLocal").maxlength({maxCharacters:50})):"cambiosaque"===a?($(".block-search-local").hide(),$(".block-search-branche").hide(),"filterService"===P?$(".combobox-filter").show():$(".combobox-filter").hide(),$(".header-filters").show(),$(".block-search-cambiosaque").show()):($(".block-search-local").hide(),$(".block-search-branche").show(),$("#searchMapBranche").mask("0000"),"filterService"===P?$(".combobox-filter").show():$(".combobox-filter").hide(),$(".header-filters").show()),Maps.resizeMap(),Maps.filtersEvents(a),!(""!==e&&void 0!==typeof o&&o.length>0)){if($(".error-results-filter").hide(),$(".no-results-filter").fadeIn(),"filterService"==P?$(".combobox-filter").show():$(".combobox-filter").hide(),$(".number-results").html("0"),$(".header-filters").show(),"cambiosaque"===a){var x=[];Maps.setMarkerBranche(x);var S=Maps.getPositionUser();""!==S&&map.setCenter(S)}return!1}$(".error-results-filter").hide(),$(".no-results-filter").hide(),null!==e&&(h=new google.maps.LatLng(e.position.coords.latitude,e.position.coords.longitude)),latitude=o[0].latitude,longitude=o[0].longitude,n.html("");var T=0,A=function(e){var a=0;for(var t in y)y[t].name==e&&(a=parseInt(y[t].totalBranches)+1,y[t].totalBranches=a)};m=place&&"local"===a&&void 0!==place.geometry?place.geometry.location:h;var L=Maps.getPositionUser();m=L;var _=function(e){var t=[];o[e].horary_days&&(s=o[e].horary_days.split("-"),c=s[0].trim().substr(0,3),l=s[1].trim().substr(0,3)),o[e].horary_start&&(p=o[e].horary_start.split(":"),p=p[0]),o[e].horary_end&&(d=o[e].horary_end.split(":"),d=d[0]),g=o[e].services,f=0,positionAgency=new google.maps.LatLng(o[e].latitude,o[e].longitude);var i=(o[e].distanceInMeters/1e3).toFixed(3),m=(o[e].distanceInMeters/1e3).toFixed(2),h='<span data-i18n="home.typeAgency"></span> <span class="prefix-agency">'+o[e].prefix+"</span>",P='<span data-i18n="home.typeAgency"></span>',x="pin-agency",S=o[e].address?o[e].address:"",L=o[e].cnpj,I=[],q="";if("PAE"==o[e].type?(x="pin-atm",h='<span data-i18n="home.typeAtm"></span>',P=h):"QSQ"==o[e].type?(h='<span data-i18n="home.typeQuiosque"></span>',P=h):"EST"==o[e].type?(x="pin-style",h='<span data-i18n="home.typeStyle"></span>',P=h):"BNP"==o[e].type?(h='<span data-i18n="home.typePostal"></span>',P=h,null!==L&&(q='<div class="cnpj-agency-modal"><strong data-i18n="map.cnpj"></strong>: '+L+"</div>")):"CRB"===o[e].type&&(h='<span data-i18n="home.typeCorrespondente"></span>',P=h),"-1"!==b.indexOf(o[e].type)?A(o[e].type):(b.push(o[e].type),y.push({name:o[e].type,tag:P,totalBranches:1})),null!==o[e].dadosMatriz){var j=o[e].dadosMatriz;I.push('<h4><span data-i18n="map.matrixData"></span>:</h4>',"<ul>",'   <li><span data-i18n="map.matrixSocial"></span>: <span class="matriz-social">'+j.nome+"</span></li>",'   <li><span data-i18n="map.nameFantasy"></span>: <span class="matrix-name">'+j.nomeFantasia+"</span></li>",'   <li><span data-i18n="map.cnpj"></span>: <span class="matrix-cnpj">'+j.cnpj+"</span></li>",'   <li><span data-i18n="map.address"></span>: <span class="matrix-address">'+j.endereco.logradouro+"</span></li>",'   <li><span data-i18n="map.district"></span>: <span class="matrix-district">'+j.endereco.bairro+"</span></li>",'   <li><span data-i18n="map.cityUf"></span>: <span class="matrix-city">'+j.endereco.municipio+" / "+j.endereco.uf+"</span></li>","</ul>")}var E=[],W=[];""!=c&&""!=l&&(""!=p&&""!=d&&(W=['     <strong class="interval-hour-agency">           <span class="begin-time-agency">'+p+'</span>h às <span class="end-time-agency">'+d+"</span>h     </strong>"]),E=['<ul class="right list-worklog">   <li>        <span class="interval-date-agency">'+c+"-"+l+'</span>       <span class="worklog-divider">-</span> '+W.join("")+"   </li></ul>"]);var D=[];i>0&&(D=['<li class="distance-agencie left">  <span class="sprite left icon-pin-localization"></span> <p class="left value-distance">     <span class="desktop-distance">'+i+'km</span>        <span class="tablet-distance">'+m+"km</span>   </p></li>"]),u=[],blockServicesModals=[];var z=",",R="";for(var U in g)3>f&&(z=parseInt(U)+1==g.length?".":",",R='<span class="left"> '+g[U]+z+"</span>",u.push(R)),f++;var F=function(e){var a=0;for(var t in k)k[t].name==e&&(a=parseInt(k[t].totalItems)+1,k[t].totalItems=a)};for(var U in g)"-1"!=v.indexOf(g[U])?F(g[U]):(v.push(g[U]),k.push({name:g[U].trim(),totalItems:1})),g[parseInt(U)+1]?blockServicesModals.push(g[U]+", "):blockServicesModals.push(g[U]+".");var H="";if(g.length>3&&(H='<span class="link-more-services left">+'+(parseInt(g.length)-3)+"</span>"),t.push('<li class="item-list-agency" data-abbr="'+o[e].type+'">','   <a href="javascript:;" class="clearfix full-width link-detail-agency" id="agency-'+e+'">      <input type="hidden" name="lat-agency" class="lat-agency" value="'+o[e].latitude+'">       <input type="hidden" name="long-agency" class="long-agency" value="'+o[e].longitude+'">        <input type="hidden" name="prefix-agency" class="prefix-agency" value="'+o[e].prefix+'">       <div class="left block-pin-agency">         <span class="circle-number-item '+x+'">'+(parseInt(e)+1)+'</span>        </div>      <div class="left description-agency-list">          <h4 class="agency-name">'+h+'</h4>         <h3 class="section-agency">'+o[e].name+'</h3>          <ul class="main-info-agency clearfix full-width">'+D.join("")+'             <li class="work-time simple-list-work right">                   <span class="sprite left sprite icon-clock"></span>'+E.join("")+'                </li>           </ul>           <div class="agency-address-modal">'+S+", "+o[e].district+", "+o[e].city+", "+o[e].state+" - CEP : "+o[e].zipcode+"</div>            "+q+'            <div class="email-modal-agency">'+o[e].email+'</div>           <div class="contact-modal-agency">'+o[e].phone+'</div>         <div class="matrix-modal-agency">'+I.join("")+'</div>       </div   </a>    <div class="blocklist-services">        <div class="clearfix full-width block-list-services">           <div class="list-services">'+u.join("")+'</div>         <div class="list-services-modal">'+blockServicesModals.join("")+'</div>         <div class="block-link-more-services">'+H+'</div>      </div>  </div>  <span class="sprite icon-arrow-list-agencies"></span></li>'),n.append(t.join("")),void 0!==M[e]&&(w=['<div class="promo-alert"><a href="javascript:;" class="sprite close-promo"></a><a href="javascript:;" target="_blank"><img src="assets/images/alert-promo.jpg" /></a></div>'],n.append(w.join(""))),void 0!==o[parseInt(T)+1])T=parseInt(T)+1,_(T);else{Utils.loaderHide(),$(".item-list-agency").css({visibility:"visible"}),$(".number-results").html(parseInt(T)+1),parseInt(T)+1>1?$(".total-results").find(".plural-letter").show():$(".total-results").find(".plural-letter").hide();var G=$(window).width();if(G>760){var N=function(){var e=$(window).height(),a=$("#header-map").height(),t=$("#footer-home").height(),i=$(".header-filters").height(),n=Page.getSearchType(),o=parseInt(e)-parseInt(a)-parseInt(i)-parseInt(t)-30;"cambiosaque"===n&&(o-=parseInt($(".block-search-cambiosaque").outerHeight())),$(".block-agencies-list").css({height:o+"px"})};N(),window.addEventListener("orientationchange",function(){N()},!1),window.setTimeout(function(){O=$(".block-agencies-list").jScrollPane({autoReinitialise:!0})},0)}if("local"==a){var V=Maps.getOriginTarget();"filterService"!=V?Utils.ajaxRequest({request:{url:__BASE_URL__+"/servicos/recuperarFiltros/",type:"GET",data:{idioma:languageWebsite},traditional:!0,jsonpCallback:"callback",dataType:"jsonp"},callbacks:{success:C,attribute:{services:k,branches:y}}}):(Page.setActiveAgencies(y),B())}else B();r(),Utils.loaderHide()}};if(null!==o){if(o.length>0){var I=new google.maps.LatLng(o[0].latitude.replace(",","."),o[0].longitude.replace(",",".")),q=Maps.getOriginTarget();"filterService"!==q&&map.setCenter(I),_(0)}else Utils.loaderHide();Maps.setMarkerBranche(o),void 0!==t.callback&&t.callback(Maps.getMarkers())}else Utils.loaderHide()},z=function(e,a,t){""!==markerMyPosition&&markerMyPosition.setMap(map);var i="assets/images/pin-my-location.png",n={url:""+i,size:new google.maps.Size(41,45),origin:new google.maps.Point(0,0)};""!==myPos&&(markerMyPosition=new google.maps.Marker({map:map,icon:n,position:myPos,zIndex:9999}),markerMyPosition.setMap(map)),Utils.ajaxRequest({request:{url:__webservice__,contentType:"application/json",data:e,traditional:!0,jsonpCallback:"callback",dataType:"jsonp"},callbacks:{success:Page.buildListAgencies,attribute:{searchType:a,origin:t}}}),dataLayer.push({event:"pageTrack",PNPagina:"/Mapas"}),Maps.updateMapPosition(!1,a)},R=function(){Utils.loaderShow(),$("#header-home").fadeOut(500),$("main").fadeOut({duration:500,complete:function(){Page.homeType("map"),$("#sup-footer").fadeOut(500),$(".center-home-screen").fadeOut(function(){Maps.init(),$(".map-section").fadeIn(500),$("#header-map").fadeIn(500),$("main").fadeIn(500),$("#footer-home").fadeIn(500),$("#home-background").addClass("background-map"),r(),window.setTimeout(function(){$("#searchMapLocal").val(Cookies.get("place-attendance-name")),Cookies.remove("place-attendance-name"),latitude=place.geometry.location.H,longitude=place.geometry.location.L,dataLayer.push({event:"pageTrack",PNPagina:"/Mapas"}),Maps.updateMapPosition(!0)},500)})}})},U=function(e,a){Utils.loaderShow(),Page.homeType("map"),$("#active-map-desktop").hide(),$(".activeMap").removeClass("activeCheck"),$("#sup-footer").fadeOut(500),$(".center-home-screen").fadeOut(function(){$(".map-section").fadeIn(500),$("#header-map").fadeIn(500),$("main").fadeIn(500),$("#footer-home").fadeIn(500),r(),Maps.pesquisaCS()})},F=function(a,t){var i=$("#field-error-address");return"branch"==t&&(i=$("#field-error-agency")),a?(i.fadeIn(function(){window.setTimeout(function(){i.fadeOut()},2e3)}),!1):(Utils.loaderShow(),$("#header-home").fadeOut(500),$("main").fadeOut({duration:500,complete:function(){Page.homeType("map"),$("#sup-footer").fadeOut(500),$(".center-home-screen").fadeOut(function(){Maps.init(),$(".map-section").fadeIn(500),$("#header-map").fadeIn(500),$("main").fadeIn(500),$("#footer-home").fadeIn(500),$("#home-background").addClass("background-map"),r(),window.setTimeout(function(){if("searchLocal"==H)""!=autocomplete&&""==place&&(place=autocomplete.getPlace()),$("#searchMapLocal").val($("#searchLocal").val()),place?void 0!==place.geometry?(latitude=place.geometry.location.lat(),longitude=place.geometry.location.lng()):(latitude=e.position.coords.latitude,longitude=e.position.coords.longitude):e&&(latitude=e.position.coords.latitude,longitude=e.position.coords.longitude),track.sendData("Home_Busca-Endereco",$("#searchLocal").val()),Maps.updateMapPosition(!0);else if("searchAgency"==H){var a=$("#searchAgency").val();$("#searchMapBranche").val($("#searchAgency").val()),Maps.setPrefixBranche(a),dataAttributes={idioma:languageWebsite,prefixo:a},track.sendData("Home_Busca-Numero-Agencia",a),z(dataAttributes,"agency","home")}},500)})}}),!1)},H="",G=function(){var a="",t="",i="";$(".fields-search").val("");var n=function(){if($(".activeMap").addClass("activeCheck"),$(".error-field-search").hide(),H=$(".active-input-search").attr("id"),a="searchLocal"==H?$("#searchLocal").val():$("#searchAgency").val(),""!==autocomplete&&(place=autocomplete.getPlace()),void 0!==place&&(t=place.geometry),$("#searchLocal").hasClass("active-input-search")){i=""===a.trim()||(""===t||void 0!==t)&&null===e;var n=new google.maps.Geocoder,o=a,s="";n.geocode({address:o},function(e,a){if(a===google.maps.GeocoderStatus.OK){s=e[0].address_components;var t=!1;for(var i in s)"BR"===s[i].short_name&&(t=!0);t?(place=e[0],F(!1,"address")):F(!0,"address")}else F(!0,"address")})}else i=4!==a.length,F(i,"branch")};$("#form-search").off().on({submit:function(e){return e.preventDefault(),inputSearchActive=!0,n(),!1}}),$(".anchor-search").off().on({
click:function(){return inputSearchActive=!0,n(),!1}}),$(".anchor-service-points").off().on({click:function(){track.sendData("Home","Conheça os nossos pontos de atendimento")}})},N=function(){$(".anchor-type-search").off().on({click:function(){var e=$(this).data("anchor");$(".type-search-active").addClass("type-search-inactive").removeClass("type-search-active"),$(".active-input-search").removeClass("active-input-search"),$(".fields-search").hide(),$("#"+e).show(),$("#"+e).addClass("active-input-search"),"searchLocal"===e?$(".text-my-location").show():($("#searchAgency").mask("0000"),$(".text-my-location").hide(),$("#searchAgency").focus(),$("#searchAgency").blur()),$(this).removeClass("type-search-inactive").addClass("type-search-active"),$("#field-"+e).css({display:"block"})}}),$(".activeMap").off().on({click:function(){$(".activeMap").hasClass("activeCheck")?$(".activeMap").removeClass("activeCheck"):$(".activeMap").addClass("activeCheck")}})};n();var V=function(){$("#wrapper-attendance-type").length&&(Cookies.get("languageWebsite"),languages[languageWebsite]?J():Utils.ajaxRequest({request:{url:__BASE_URL__+"/servicos/recuperarInformacoesHome/",type:"GET",data:{idioma:languageWebsite},traditional:!0,jsonpCallback:"callback",dataType:"jsonp"},callbacks:{success:Z}}))},Z=function(e){languages[languageWebsite]=e.listaCards,J()},J=function(){var e=$("#wrapper-attendance-type");if(e.length){var a,t=languages[languageWebsite].length,i=0,n=$(".container-type-block-a"),o=$(".container-type-block-b"),s="",c=0,r=0,l="",p=" ";for(n.html(""),o.html(""),p="";t>i;)a=languages[languageWebsite][i],3!==a.tipo?(3===c&&(c=0),s=1===c?"helper-desk":"",c++,l='<div class="block-type-a '+s+'"><div class="sub-container-block"><h3 class="attendance-block-title">'+a.descricao+"</h3><p>"+a.textoFrente+'</p><a target="_blank" href="'+a.link+'" class="attendance-link">'+(a.link?a.textoLink:p)+"</a></div></div>",n.append(l)):(3===r&&(r=0),s=1===r?"helper-desk":"",r++,l='<div class="block-type-b '+s+'"><div class="sub-container-block"><h3 class="attendance-block-title">'+a.descricao+"</h3><p>"+a.textoFrente+'</p><a target="_blank" href="'+a.link+'" class="attendance-link">'+(a.link?a.textoLink:p)+"</a></div></div>",o.append(l)),i++,K(".container-type-block .block-type-a"),K(".container-type-block .block-type-b"),$(window).resize(function(){K(".container-type-block .block-type-a"),K(".container-type-block .block-type-b")})}},K=function(e){var a,t=0,i=0,n=new Array;$(e).each(function(){if(a=$(this),$(a).height("auto"),topPostion=a.position().top,i!==topPostion){for(currentDiv=0;currentDiv<n.length;currentDiv++)n[currentDiv].height(t);n.length=0,i=topPostion,t=a.height(),n.push(a)}else n.push(a),t=t<a.height()?a.height():t;for(currentDiv=0;currentDiv<n.length;currentDiv++)n[currentDiv].height(t)})},Q=!1,Y=function(e){Q=e},X=function(){return Q},ee=!1,ae=function(){if(ee!==!0){ee=!0;var e=window.location.hash.substr(1);if(""!==e)if("saque-taa"===e)$("#cambiosasaque_saque").prop("checked",!0).trigger("change"),Page.cambioSaque();else if("cambio"===e)$("#cambiosasaque_cambio").prop("checked",!0).trigger("change"),Page.cambioSaque();else{var a=Utils.getState(e);a!==!1&&($("#cambiosasaque_estado").attr("data-initial-value",a.uf),Page.cambioSaque())}}},te=!1,ie=!1,ne="home",oe=function(e){var a=$("#site-main"),t=$("body");if(a.length){void 0===e&&(e="home"),e!==ne&&(a.removeClass("main-home main-map").addClass("main-"+e),ne=e);var i=function(){if(a.css("height","auto"),"home"===ne){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=parseInt(t.css("padding-top")),n=parseInt(t.css("padding-bottom")),o=e-i-n;a.outerHeight()<o&&a.css("height",o+"px")}},n=function(){ie&&clearTimeout(ie),ie=setTimeout(i(),200)};te===!1&&(te=!0,$(window).bind("resize",function(){n()})),i()}},se=function(){l(),G(),N(),o(),s(),c(),ae()};return{init:function(){r(),V(),t(),oe("home")},home:function(){se()},homeType:function(e){oe(e)},cambioSaque:function(e,a){U(e,a)},cambioSaqueHash:function(){ae()},activeIdiomWebsite:function(){c()},updatePlaces:function(e){},buildListAgencies:function(e){D(e)},setSearchType:function(e){j(e)},getSearchType:function(){return E()},getFiltersAttributes:function(){return W()},searchOnMap:function(e,a,t){z(e,a,t)},closeDetailsAgencies:function(){h()},closeFiltersAgencies:function(){b()},getRouteActive:function(){return g()},showLocalization:function(){n()},setActiveAgencies:function(e){P(e)},setStatusNavigator:function(e){Y(e)},getStatusNavigator:function(){return X()},closeFilterMobile:function(){L()},closeDetailsMobile:function(){S()},customFields:function(){t()}}}();Page.init();var localiza=function(){var e=__BASE_URL__,a=function(e){},t=function(e){var a,t,i,n,o;a=e.page_title,t=e.page_subtitle,i=e.text_blocks,o=$(".attendance-title");for(var n=0;n<a.length;n++)o.eq(n).html(a[n].title);o=$(".attendance-subtitle");for(var n=0;n<t.length;n++)o.eq(n).html(t[n].subtitle);o=$(".container-type-block > div");for(var n=0;n<i.length;n++)o.eq(n).find(".attendance-block-title").html(i[n].title),o.eq(n).find("p").html(i[n].text),o.eq(n).find(".attendance-link").html(i[n].link)},i=function(){$("select.language").on("change",function(){t(0==$(this).val()?data_attendance_type[0]:data_attendance_type[1])})},n=!1,o=function(){var e={country:"br"};autocompleteAttendance=new google.maps.places.Autocomplete(document.getElementById("searchLocalAttendance"),{componentRestrictions:e}),$("#form-search-attendance").off().on({submit:function(){var e=$("#searchLocalAttendance").val(),a=autocompleteAttendance.getPlace();if(""==e)$(".error-field-maps-search").fadeIn(function(){var e=$(this);window.setTimeout(function(){e.fadeOut(),n=!1},2e3)});else if(Cookies.set("place-attendance-name",e),"undefined"!=typeof a&&"object"==typeof a.geometry)Cookies.set("place-attendance",a),window.location.href="index.html";else{var t=new google.maps.Geocoder,i=e,o="";t.geocode({address:i},function(e,a){if(a===google.maps.GeocoderStatus.OK){var t=!1;o=e[0].address_components;for(var i in o)"BR"===o[i].short_name&&(t=!0);t?(Cookies.set("place-attendance",e[0]),window.location.href="index.html"):$(".error-field-maps-search").fadeIn(function(){window.setTimeout(function(){$(".error-field-maps-search").fadeOut(),n=!1},2e3)})}else $(".error-field-maps-search").fadeIn(function(){window.setTimeout(function(){$(".error-field-maps-search").fadeOut(),n=!1},2e3)})})}return!1}}),$(".icon-close-filter-map").off().on({click:function(){$("#searchLocalAttendance").val("")}}),$(".link-search-attendance").off().on({click:function(){!1===n&&(n=!0,$("#form-search-attendance").submit())}}),autocompleteAttendance.addListener("place_changed",function(){!1===n&&(n=!0,$("#form-search-attendance").submit())})},s=function(){var e=function(){var e=location.hash,a="";"#pontosAtendimento"==e?a=$("#title-branch-points").offset().top:"#servicos"==e&&(a=$("#title-branch-services").offset().top),""!=a&&$("html, body").animate({scrollTop:a+"px"},{duration:1e3})};$(window).on({hashchange:function(){e()}}),window.setTimeout(function(){e()},1e3)},c=function(){$(".block-type-a").off().on({click:function(){var e=$(this).find(".attendance-block-title").html();track.sendData("Pontos-de-Atendimento_Tipo",e)}}),$(".block-type-b").off().on({click:function(){var e=$(this).find(".attendance-block-title").html();track.sendData("Pontos-de-Atendimento_Serviços",e)}})};return{init:function(){$(".status").remove(),$("#searchLocalAttendance").maxlength({maxCharacters:50}),Page.activeIdiomWebsite()},st:function(e){i()},d:function(){request_start()},eventsSearchAttendance:function(){o()},hashAttendance:function(){s()},eventsAttendanceType:function(){c()}}}(),map="",infoWindow="",autocompleteIntern="",markerMyPosition="",mapDefaults={zoom:{min:4,max:17}},Maps=function(){var e=[],a="",t="",i={zoom:"",totMore:0,totLess:0},n=function(e){t=e},o=function(){return t},s=function(){var e=Maps.getState("RJ"),a=e.cap_latlng.split(",");return new google.maps.LatLng(parseFloat(a[1]),parseFloat(a[0]))},c,r=function(){var e=Page.getSearchType();$("body").removeClass(searchTypes.join(" ")).addClass(e);var a=$(".block-search-map"),t=$(".block-search-cambiosaque"),i=$("#back-results-button"),n=parseInt($(window).width()),o=parseInt($(window).height()),s=parseInt($("#header-map").height()),r=parseInt($("#footer-home").height()),l=$(".result-agencies").width(),p=parseInt(n)-parseInt(l);if(t.css({top:s+"px",right:p*-1+"px"}),n>760){var d=s;d+="cambiosaque"===e?parseInt(t.outerHeight()):parseInt(a.outerHeight());var u=o-d-r;$("#map-canvas").css({width:p+"px",height:u+"px",left:l+"px",top:d+"px"}),$(".block-checkbox-map").css({left:parseInt(l)+22+"px",top:d+22+"px"}),a.css({width:p+"px",left:l+"px",top:s+"px"}),i.removeClass("mobile").show();var f=i.outerHeight();f+=parseInt(i.css("margin-top"))+parseInt(i.css("margin-bottom"));var g=o-s-f-r-15;"none"!==t.css("display")&&(g-=parseInt(t.outerHeight())),$(".block-detail-agency").css({height:g+"px"})}else $("#active-map-desktop").hide(),i.addClass("mobile").hide(),a.css({left:0,right:0,width:"auto"});$(window).on("resize",function(){void 0!==c&&clearTimeout(c),c=setTimeout(Maps.resizeMap,100)})},l=function(){window.location.hash="",place="";var e=($(".block-search-local").is(":visible"),$(".block-search-branche").is(":visible")),a=parseInt($("#field-searchLocal").width()),t=parseInt($("#field-searchAgency").width()),i=a+t,n=parseInt($(".block-field-search").width());$(".type-search-active").removeClass("type-search-active"),$(".fields-search").hide().val(""),$(".info-is-encountered").hide(),$(".info-my-location").show(),$(".text-my-location").show(),$(".main-map").removeClass("main-map"),1==e?($("#field-searchLocal").addClass("type-search-active"),$(".text-my-location").hide(),$("#searchAgency").show()):(Page.showLocalization(),$("#field-searchAgency").addClass("type-search-active"),$(".text-my-location").show(),$("#searchLocal").show()),n>i?$("#footer-home").fadeOut(function(){$("#sup-footer").fadeIn(),$("#header-home").fadeIn(),$("#footer-home").fadeIn()}):($("#footer-home").fadeOut(),$("#sup-footer").fadeIn(),$("#header-home").fadeIn()),p(),$("#home-background").removeClass("background-map"),Page.home()},p=function(){$("#header-map").fadeOut(500),$(".map-section").fadeOut(500,function(){$("body").removeClass(searchTypes.join(" ")),$(".center-home-screen").fadeIn(200,function(){Page.homeType("home")})})},d=function(){$(".link-back-home, .link-back-home-mobile").off().on({click:function(){window.pesquisaIniciada=!1,l()}}),$(".icon-back-tablet").off().on({click:function(){var e=$(this).closest(".header-filters");$(e).hasClass("filter-active")||l()}})},u="",f=function(e){function a(e,a){e.style.padding="20px 30px 0 0";var t=document.createElement("div");t.style.backgroundColor="transparent",t.style.borderStyle="none",t.style.borderColor="transparent",t.style.borderWidth="0",t.style.cursor="pointer",t.style.textAlign="center",t.style.width="42px",t.style.height="134px",e.appendChild(t);var o=document.createElement("div");o.style.width="40px",o.style.height="42px",o.style.backgroundImage='url("assets/images/up-zoom.png")',t.appendChild(o);var s=document.createElement("div");s.style.width="40px",s.style.height="40px",s.style.backgroundImage='url("assets/images/down-zoom.png")',t.appendChild(s);var c=document.createElement("div");c.className="nav-map",c.style.width="40px",c.style.height="42px",c.style.marginTop="10px",c.style.backgroundImage='url("assets/images/nav-button.png")',t.appendChild(c);var r="";google.maps.event.addDomListener(o,"click",function(){Maps.setCounterMap("more"),a.setZoom(a.getZoom()+1),window.clearInterval(r),r=window.setTimeout(function(){i={zoom:"",totMore:0,totLess:0}},15e3)}),google.maps.event.addDomListener(s,"click",function(){Maps.setCounterMap("less"),a.setZoom(a.getZoom()-1),window.clearInterval(r),r=window.setTimeout(function(){i={zoom:"",totMore:0,totLess:0}},15e3)}),google.maps.event.addDomListener(c,"click",function(){var e=Maps.getPositionUser(),t=Maps.getOriginTarget();"filterService"!==t&&(""!==e?(Maps.createUserMark(e),a.setCenter(e)):n())})}u=new google.maps.LatLng(-23.5505199,-46.63330939999999);var t=[{featureType:"poi.attraction",stylers:[{visibility:"off"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.medical",stylers:[{visibility:"off"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"off"}]},{featureType:"poi.school",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"off"}]},{featureType:"poi.government",stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#ffffff"},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.station",stylers:[{visibility:"off"}]}],n=function(){function e(e){initialPosition={},initialPosition.position=e;var a=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);myPos=a,Maps.setPositionUser(myPos),geocoder=new google.maps.Geocoder,geocoder.geocode({latLng:a},function(e,a){a==google.maps.GeocoderStatus.OK?Maps.createUserMark(myPos,!1):$(".error-field-maps-navigator").fadeIn(function(){var e=$(this);window.setTimeout(function(){e.fadeOut()},2e3)})})}navigator.geolocation&&navigator.geolocation.getCurrentPosition?navigator.geolocation.getCurrentPosition(e,function(){$(".error-field-maps-navigator").fadeIn(function(){Utils.loaderHide();var e=$(this);window.setTimeout(function(){e.fadeOut()},500)})}):$(".error-field-maps-navigator").fadeIn(function(){var e=$(this);window.setTimeout(function(){e.fadeOut()},500)})},o={zoom:17,minZoom:2,center:u,disableDefaultUI:!0,styles:t};void 0!==e&&(o=$.extend(o,e)),Maps.resizeMap();var s=$(window).width();""===map?s>760?map=new google.maps.Map(document.getElementById("map-canvas"),o):(map=new google.maps.Map(document.getElementById("map-canvas-mobile"),o),$(".map-canvas-mobile").css("position","fixed")):(console.info("options.zoom"),console.log(e.zoom),e.zoom&&parseIn(e.zoom)>o.minZoon&&map.setZoom(e.zoom));var c=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!c){var r=document.createElement("div");new a(r,map),r.index=1,map.controls[google.maps.ControlPosition.TOP_RIGHT].push(r)}google.maps.event.addListener(map,"dragend",function(){l("dragmap")}),google.maps.event.addListener(map,"zoom_changed",function(){var e=Maps.getCounterMap();3!==e.totLess&&3!==e.totMore||(i={zoom:"",totMore:0,totLess:0},l("zoomMap"))});var l=function(e){var a=Page.getSearchType();if(!$(".activeMap").hasClass("activeCheck")||"local"!==a)return!1;var t=$(window).width();760>=t&&($(".detail-agency").is(":visible")||$(".block-filters").is(":visible"))&&(Page.closeDetailsMobile(),$(".link-back-home-mobile").removeClass("back-to-results-mobile")),Maps.setOriginTarget(e);var a=Page.getSearchType(),i=Page.getRouteActive();if("agency"==a||i)return!1;if(Utils.loaderShow(),$(".detail-agency").is(":visible")&&Page.closeDetailsAgencies(),$(".block-filters").is(":visible")&&Page.closeFiltersAgencies(),window.pesquisaIniciada=!0,"agency"!==a){window.novaPesquisa&&clearTimeout(window.novaPesquisa);var n=Maps.getOriginTarget(),o="";"filterService"!==n&&(o={northLat:map.getBounds().getNorthEast().lat(),northLong:map.getBounds().getNorthEast().lng(),southLat:map.getBounds().getSouthWest().lat(),southLong:map.getBounds().getSouthWest().lng()},Maps.setConfigMaps(o)),window.novaPesquisa=window.setTimeout(function(){m(null,null,o.northLat,o.northLong,o.southLat,o.southLong)},window.noWaitTime?0:1e3),window.noWaitTime=0}}},g=function(e,a){var t="assets/images/pin-my-location.png";imagemLocal={url:""+t,size:new google.maps.Size(41,45),origin:new google.maps.Point(0,0)},void 0===e||""!==markerMyPosition&&void 0!==markerMyPosition||(markerMyPosition=new google.maps.Marker({map:map,icon:imagemLocal,position:e,zIndex:9999}),markerMyPosition.setMap(map)),""!==markerMyPosition&&(Page.setStatusNavigator(!0),google.maps.event.addListener(markerMyPosition,"click",function(e){var t=$(this),i=t[0].position;infoWindow.setContent('<div class="info-agencie"><span class="infobox-prefix">'+("PT"===languageWebsite?"Você está aqui!":"You are hear!")+'</span><span class="sprite bottom-infobox"></span></div>'),infoWindow.setPosition(i),infoWindow.open(map),void 0!==a&&a===!1||map.setCenter(i),window.setTimeout(function(){infoWindow.close()},2e3)}))},m=function(e,a,t,i,n,o,s){var c={},r=0,l=(Page.getSearchType(),$(".filter-open-agency").find(".checkbox").hasClass("checkbox-active"));if(c.servicos=[],c.tiposAtendimento=[],c.latitude=e?e:"",c.longitude=a?a:"",c.northEastLat=t?t:"",c.northEastLng=i?i:"",c.southWestLat=n?n:"",c.southWestLng=o?o:"",c.duranteCopa=0,l){var p=new Date,d=new Date;d.setHours(0),d.setMinutes(0),d.setSeconds(0),r=(p.getTime()-d.getTime())/1e3}$(".block-kind-agencies").find(".checkbox-active").each(function(){c.tiposAtendimento.push($(this).data("id"))}),$(".block-kind-services").find(".checkbox-active").each(function(){c.servicos.push($(this).data("id"))});var u={idioma:languageWebsite,duranteCopa:c.duranteCopa,horarioAtendimentoEmSegundos:r,latitude:c.latitude,longitude:c.longitude,northEastLat:c.northEastLat,northEastLng:c.northEastLng,southWestLat:c.southWestLat,southWestLng:c.southWestLng,tiposAtendimento:c.tiposAtendimento,servicos:c.servicos};Utils.ajaxRequest({request:{url:__webservice__,contentType:"application/json",data:u,traditional:!0,jsonpCallback:"callback",dataType:"jsonp"},callbacks:{success:Page.buildListAgencies,attribute:{searchType:"local",searchActive:inputSearchActive}}})},h={$state:$("#cambiosasaque_estado"),$cambio:$("#cambiosasaque_cambio"),$saque:$("#cambiosasaque_saque")},v=!1,b=!1,y=function(){v===!1&&$.ajax({type:"GET",url:"files/cambiosaque.json",json:!0,traditional:!0,dataType:"json",contentType:"application/json",cache:!0}).done(function(e,a){v=!0,Maps.populateFiltersCS(e)}).fail(function(e,a){console.info("response"),console.log(e),console.info("xhr"),console.log(a)})},k=function(e){var a=e.pontosAtendimento;if(!(a.length<1)){h.$state.html('<option value="">Todos os estados</option>');for(var t=Utils.getStates(),i=a.length,n=0;n<i;n++)t[a[n].state].active=!0;$.each(t,function(){void 0!==this.active&&h.$state.append('<option value="'+this.uf+'" data-latlng="'+this.cap_latlng+'">'+this.nome+"</option>")});var o=h.$state.attr("data-initial-value");void 0!==o&&""!==o&&null!==o&&h.$state.val(o).trigger("change"),h.$state.bind("change",function(){Maps.pesquisaCS()}),h.$saque.bind("change",function(){Maps.pesquisaCS()}),h.$cambio.bind("change",function(){Maps.pesquisaCS()})}},w=function(){b!==!0&&(b=!0,Page.setSearchType("cambiosaque"),$(".detail-agency").is(":visible")&&Page.closeDetailsAgencies(),$(".block-filters").is(":visible")&&Page.closeFiltersAgencies(),Maps.init({zoom:mapDefaults.zoom.min}),map.setZoom(mapDefaults.zoom.min),map.panBy(20,20),google.maps.event.addListenerOnce(map,"bounds_changed",function(){google.maps.event.clearListeners(map,"bounds_changed"),Utils.loaderShow();var e={idioma:languageWebsite,duranteCopa:1,horarioAtendimentoEmSegundos:0,latitude:"",longitude:"",northEastLat:map.getBounds().getNorthEast().lat(),northEastLng:map.getBounds().getNorthEast().lng(),southWestLat:map.getBounds().getSouthWest().lat(),southWestLng:map.getBounds().getSouthWest().lng(),servicos:[]};h.$cambio.prop("checked")===!0&&e.servicos.push("1"),h.$saque.prop("checked")===!0&&e.servicos.push("3"),Utils.ajaxRequest({request:{url:__webservice__,data:e,contentType:"application/json",traditional:!0,dataType:"jsonp",jsonpCallback:"callback"},callbacks:{success:Maps.pesquisaCSCallback,attribute:{searchType:"cambiosaque",searchActive:!1}}})}),setTimeout(function(){var e=Maps.getPositionUser();if(""!==e)n=e;else{var a=h.$state.val();void 0!==a&&""!==a&&null!==a||(a="RJ");var t=Utils.getState(a),i=t.cap_latlng.split(","),n=new google.maps.LatLng(parseFloat(i[1]),parseFloat(i[0]))}map.setCenter(n)},200))},M=function(e){var a=e.response.pontosAtendimento.length,t=h.$state.val(),i=[];if(a>0&&""!==t){for(var n=0;n<a;n++){var o=e.response.pontosAtendimento[n];o.state===t&&i.push(o)}e.response.pontosAtendimento=i}e.callback=function(e){var a=new google.maps.LatLngBounds,t=new google.maps.LatLng(parseFloat(e[0].position.lat()),parseFloat(e[0].position.lng()));a.extend(t);var i=Maps.getPositionUser();""!==i&&(Maps.createUserMark(i),options.position=i,a.extend(i)),map.fitBounds(a)},Page.buildListAgencies(e),b=!1},P=function(e,a){if(latitude&&longitude){var t=new google.maps.LatLng(parseFloat(latitude),parseFloat(longitude));window.pesquisaIniciada=!0,window.noWaitTime=1;var i=Maps.getOriginTarget();"filterService"!==i&&map.setCenter(t),config={originTarget:"userPosition"},Maps.searchAgenciesOnMap(config),""!==markerMyPosition&&markerMyPosition.setMap(map);var n="assets/images/pin-my-location.png",o={url:""+n,size:new google.maps.Size(41,45),origin:new google.maps.Point(0,0)};e&&""!==myPos&&(""===markerMyPosition&&(markerMyPosition=new google.maps.Marker({map:map,icon:o,position:myPos,zIndex:9999})),markerMyPosition.setMap(map))}},C=function(){x(null),e=[]},x=function(a){for(var t=0;t<e.length;t++)e[t].setMap(a)},S=function(a,t){var i=a.key,n=a.marker,o=a.obj,s=a.ag,c=(a.labelMarker,a.content),r=a.infoWindow,l="",p=(parseInt(i)+1).toString().length,d="label-map";switch(p){case 1:d="label-map";break;case 2:d="label-map-two";break;case 3:d="label-map-three";break;default:d="label-map"}"atm"===t&&(d+=" label-atm"),n[i]=new MarkerWithLabel({position:o.position,map:map,icon:o.icon,labelContent:""+(parseInt(i)+1),labelAnchor:new google.maps.Point(3,30),labelClass:d,labelInBackground:!1,key:i,prefix:s[i].prefix,state:s[i].state,services:s[i].services}),e.push(n[i]),n[i].setMap(map),c[i]=[],l=null!=s[i].prefix?s[i].prefix+'</span><span class="divisor-infobox">&#8211</span>':"",c[i].push('<div class="info-agencie"><span class="infobox-prefix">'+l+s[i].name+' <span class="sprite bottom-infobox"></span></div>'),""!==markerMyPosition&&google.maps.event.addListener(markerMyPosition,"click",function(e){var a=$(this),t=a[0].position;r.setContent('<div class="info-agencie"><span class="infobox-prefix">'+("PT"==languageWebsite?"Você está aqui!":"You are hear!")+'</span><span class="sprite bottom-infobox"></span></div>'),r.setPosition(t),r.open(map),window.setTimeout(function(){r.close()},2e3)}),google.maps.event.addListener(n[i],"click",function(e){var a=$(this),t=a[0].prefix,i=a[0].key,n=a[0].position,o="";r&&r.prefix&&r.prefix===t?(r.close(),r.prefix=null):(r&&r.close(),r.setContent(c[a[0].key].join("")),r.setPosition(n),r.prefix=t,r.open(map),setTimeout(function(){o=$("#agency-"+i).find(".agency-name").val(),track.sendData("Mapas-Pin-Mapa",o),$("#agency-"+i).trigger("click"),$("#info-col-header .white-close").off().on("click",function(){r.close(),r.prefix=null})},200))})},T=function(e,t){var i=e,n=[],o=[],s=[],c={val1:-129,val2:-65},r={content:"",disableAutoPan:!1,maxWidth:0,pixelOffset:new google.maps.Size(c.val1,c.val2),alignBottom:!0,zIndex:null,boxStyle:{background:"transparent",opacity:1},closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1};""===infoWindow&&(infoWindow=new InfoBox(r)),C();for(var l=0;l<i.length;l++){if("object"!=typeof i[l])return!1;var p="",d=!0,u=!0,f=!0,g=!0,m=function(e){var a="pin-map-agency.png";return p="agency","PAE"==e.type?(a="pin-map-atm.png",p="atm"):"EST"==e.type&&(a="pin-map-style.png",p="style"),a};if(d&&u&&f&&g){var h=m(i[l]),v=new google.maps.LatLng(i[l].latitude.replace(",","."),i[l].longitude.replace(",",".")),b={url:"assets/images/"+h,size:new google.maps.Size(53,50),origin:new google.maps.Point(0,0)},y={position:v,icon:b},k={key:l,marker:n,obj:y,ag:i,labelMarker:o,content:s,infoWindow:infoWindow};S(k,p)}}""===a?Maps.setCluster(n,!0):Maps.refreshCluster()},A=function(t,i){if(mcOptions={styles:[{height:53,url:"assets/images/m1.png",width:53},{height:56,url:"assets/images/m2.png",width:56},{height:66,url:"assets/images/m3.png",width:66},{height:78,url:"assets/images/m4.png",width:78},{height:90,url:"assets/images/m5.png",width:90}]},a=new MarkerClusterer(map,e,mcOptions),void 0!==i&&t[0]){var n=t[0].getPosition(),o=Maps.getOriginTarget();"filterService"===o||0==n.A&&0==n.F||map.setCenter(n)}},L=function(){a.resetViewport(),a.clearMarkers(),a.addMarkers(e)},_=function(e){if(Page.setSearchType(e),"local"===e){var a={country:"br"};autocompleteIntern=new google.maps.places.Autocomplete(document.getElementById("searchMapLocal"),{componentRestrictions:a});var t=$("#map-canvas-mobile").height();t>0&&$("body").find(".pac-container").each(function(){var e=parseInt($(this).width())+20;$(this).css({"margin-top":"-30px",width:e+"px"}),$("#form-search-local").prepend($(this))}),autocompleteIntern.addListener("place_changed",function(){$("#form-search-local").submit()}),window.formIsSubmitted=!1,$("#form-search-local").off().on({submit:function(e){if(!1===window.formIsSubmitted){window.formIsSubmitted=!0;var a=$("#searchMapLocal").val();if(track.sendData("Header_Busca-Endereço",a),place=autocompleteIntern.getPlace(),void 0!==place&&void 0!==place.geometry)Maps.deleteMarkers(),Utils.loaderShow(),$(".filter-active").removeClass("filter-active"),$(".detail-agency").hide(),$(".block-agencies-list").show(),$(".block-filters").hide(),latitude=place.geometry.location.lat(),longitude=place.geometry.location.lng(),inputSearchActive=!0,dataLayer.push({event:"pageTrack",PNPagina:"/Mapas"}),Maps.updateMapPosition(!0);else{var t=new google.maps.Geocoder,i=a,n="";t.geocode({address:i},function(e,a){if(a===google.maps.GeocoderStatus.OK){n=e[0].address_components;var t=!1;for(var i in n)"BR"==n[i].short_name&&(t=!0);t?($(".filter-active").removeClass("filter-active"),Maps.deleteMarkers(),Utils.loaderShow(),$(".detail-agency").hide(),$(".block-agencies-list").show(),$(".block-filters").hide(),latitude=e[0].geometry.location.lat(),longitude=e[0].geometry.location.lng(),inputSearchActive=!0,dataLayer.push({event:"pageTrack",PNPagina:"/Mapas"}),Maps.updateMapPosition(!0)):$(".error-field-maps-search").fadeIn(function(){window.setTimeout(function(){$(".error-field-maps-search").fadeOut()},2e3)})}else $(".error-field-maps-search").fadeIn(function(){window.setTimeout(function(){$(".error-field-maps-search").fadeOut()},2e3)})})}}return!1}}),$(".link-search-local").off().on({click:function(){$("#form-search-local").submit()}})}else $("#form-search-branche").off().on({submit:function(e){e.preventDefault();var a=$("#searchMapBranche").val().split("-");return prefixBranch=a[0],4==prefixBranch.length?($(".filter-active").removeClass("filter-active"),Utils.loaderShow(),$(".detail-agency").hide(),$(".block-agencies-list li").hide(),$(".block-agencies-list").show(),$(".block-filters").hide(),Maps.setPrefixBranche(prefixBranch),dataAttributes={idioma:languageWebsite,prefixo:prefixBranch},Page.searchOnMap(dataAttributes,"agency","map")):$(".error-field-maps-search").fadeIn(function(){window.setTimeout(function(){$(".error-field-maps-search").fadeOut()},2e3)}),!1}});$(".link-search-branche").off().on({click:function(){$("#form-search-branche").submit()}}),$(".icon-close-filter-map").off().on({click:function(){$(".field-search-map").val("")}})},I=function(e){var a=e.originTarget,t=Page.getSearchType(),i=function(){if(""!==map&&map.setZoom(17),""!==map&window.pesquisaIniciada&&"agency"!=t){window.novaPesquisa&&clearTimeout(window.novaPesquisa);var e=Maps.getOriginTarget(),a="";"filterService"!=e?(a={northLat:map.getBounds().getNorthEast().lat(),northLong:map.getBounds().getNorthEast().lng(),southLat:map.getBounds().getSouthWest().lat(),southLong:map.getBounds().getSouthWest().lng()},Maps.setConfigMaps(a)):a=Maps.getConfigMaps(),window.novaPesquisa=window.setTimeout(function(){m(null,null,a.northLat,a.northLong,a.southLat,a.southLong),google.maps.event.removeListener(o)},window.noWaitTime?0:1e3),window.noWaitTime=0}},n=Maps.getOriginTarget();if("filterService"!=n)if("userPosition"==a)var o=google.maps.event.addListener(map,"idle",function(){t=Page.getSearchType(),i()});else"languageSelector"==a&&($(".item-list-agency").css({visibility:"hidden"}),Utils.loaderShow(),typeSeach=Page.getSearchType(),i());else{var s=$(window).width();$(".detail-agency").is(":visible")&&Page.closeDetailsAgencies(),$(".block-filters").is(":visible")&&(s>760?Page.closeFiltersAgencies():Page.closeFilterMobile()),$(".item-list-agency").css({visibility:"hidden"}),Utils.loaderShow(),typeSeach=Page.getSearchType(),s>760?i():window.setTimeout(function(){i()},2e3)}},B="",O=function(e){B=e},q=function(){return B},j="",E=function(e){j=e},W=function(){return j},D="",z=function(e){D=e},R=function(){return D};return{init:function(e){y(),""===u&&(f(e),d())},getMarkers:function(){return e},getDefaultPostion:function(){return s()},resizeMap:function(){r()},createUserMark:function(e){g(e)},pesquisarPontosAtendimento:function(e,a,t,i,n,o){m(e,a,t,i,n,o)},pesquisaCS:function(e){w(e)},pesquisaCSCallback:function(e){M(e)},setFiltersCS:function(){return y()},populateFiltersCS:function(e){return k(e)},updateMapPosition:function(e,a){P(e,a)},setMarkerBranche:function(e){T(e)},deleteMarkers:function(){C()},setCluster:function(e,a){A(e,a)},refreshCluster:function(){L()},setPositionUser:function(e){n(e)},getPositionUser:function(){return o()},filtersEvents:function(e){_(e)},searchAgenciesOnMap:function(e){I(e)},setPrefixBranche:function(e){O(e)},getPrefixBranche:function(){return q()},setOriginTarget:function(e){E(e)},getOriginTarget:function(){return W()},setConfigMaps:function(e){z(e)},getConfigMaps:function(){return R()},setCounterMap:function(e){i.zoom=e,"more"===e&&i.totMore++,"less"===e&&i.totLess++},getCounterMap:function(){return i},backHome:function(){l()}}}(),track=function(){var e=function(e,a){var e=e,a=a;dataLayer.push({event:"GAEvent",eventoCategoria:"Encontre-o-BB",eventoAcao:e,eventoRotulo:a})};return{sendData:function(a,t){e(a,t)}}}();